%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Cleese Assignment
% Structure Specification File
% Version 1.0 (27/5/2018)
%
% This template originates from:
% http://www.LaTeXTemplates.com
%
% Author:
% Vel (vel@LaTeXTemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\usepackage{lastpage} % Required to determine the last page number for the footer

\usepackage{graphicx} % Required to insert images

\setlength\parindent{2pt} % Removes all indentation from paragraphs
\setlength\parskip{5pt} 

\usepackage[svgnames]{xcolor} % Enabling colors by their 'svgnames'
\usepackage[most]{tcolorbox} % Required for boxes that split across pages

\usepackage{booktabs} % Required for better horizontal rules in tables

\usepackage{listings} % Required for insertion of code

\usepackage{etoolbox} % Required for if statements

\usepackage{multido} % required for dotted lines

\usepackage[french]{babel} % English language hyphenation

\usepackage{svg}

\usepackage{wrapfig}

%----------------------------------------------------------------------------------------
%	MARGINS
%----------------------------------------------------------------------------------------

\usepackage{geometry} % Required for adjusting page dimensions and margins

\geometry{
	paper=a4paper, % Change to letterpaper for US letter
	top=   1cm, % Top margin
	bottom=1cm, % Bottom margin
	left = 1cm, % Left margin
	right= 1cm, % Right margin
	headheight=14pt, % Header height
	footskip=1.4cm, % Space from the bottom margin to the baseline of the footer
	headsep=1.2cm, % Space from the top margin to the baseline of the header
	%showframe, % Uncomment to show how the type block is set on the page
}

%----------------------------------------------------------------------------------------
%	FONT
%----------------------------------------------------------------------------------------
\usepackage{fontspec}
\usepackage{unicode-math}
\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters

\setmainfont[Ligatures=TeX]{Caladea}
%----------------------------------------------------------------------------------------
%	HEADERS AND FOOTERS
%----------------------------------------------------------------------------------------




\tcbset{
	colback=blue!10!white,
	colframe=orange!75!blue!75!black,
	% equal height group=AT,
	before=,
	after=\hfill,
	fonttitle=\bfseries,
	subtitle style={
		halign = center,
		boxrule=0.4pt,
		colback=orange!75!blue!75!black!90!orange,
		attach title to upper={\ --- \ }
		},
	}



\newtcolorbox{titlebox}[2][]{
    colbacktitle=blue!85!black,
    enhanced,
    attach boxed title to top center={yshift=-2mm},
    boxrule=1mm,
	title code app={\path[tcb fill title]
	(title) circle (5mm); },
	title={\Huge \textbf{#2}},#1}



\newtcolorbox{mybox}[1][]{
    colbacktitle=blue!10!white,
    colback=red!10!white,
    coltitle=blue!70!black,
    adjusted title={#1},
    fonttitle=\bfseries,
    attach title to upper={\ --- \ }
    }



\usepackage{fancyhdr} % Required for customising headers and footers

% \lhead{\tcbincludegraphics[width=3cm,colback=white]{electricien_fou.jpeg}}
\renewcommand{\headrulewidth}{0pt}

% no hypenation
\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000


\usepackage{tikz}
\usepackage{mdframed}

% 1st arg : nom (cours ou definition)
% 2eme : this title
\newcommand{\mymacro}[2]{
	\ifstrempty{#2}%
	{\mdfsetup{%
	frametitle={%
		#1 
	 }}}
	{\mdfsetup{%
	frametitle={%
		#1 -- #2
	 }}}
}

\newenvironment{thmarnaud}[1][]{%
   
	\mymacro{theoreme}{#1}

	\mdfsetup{
	innertopmargin=10pt,linecolor=blue!20,%
      linewidth=2pt,topline=true,
      frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
	\begin{mdframed}[]\relax%
      }{\end{mdframed}}



\newcounter{definitioncount}[section]
\newenvironment{definition}[1][]{%
   \stepcounter{definitioncount}%
   \ifstrempty{#1}%
   {\mdfsetup{%
         frametitle={%
               \tikz[baseline=(current bounding box.east),outer sep=0pt]
               \node[anchor=east,rectangle,fill=blue!20]
               {\strut Définition~\thedefinitioncount};}}
   }%
   {\mdfsetup{%
         frametitle={%
               \tikz[baseline=(current bounding box.east),outer sep=0pt]
               \node[anchor=east,rectangle,fill=blue!20]
               {\strut Définition~\thedefinitioncount:~#1};}}%
   }%
   \mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
      linewidth=2pt,topline=true,
      frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
      }{\end{mdframed}}


\newenvironment{concept}[1]{
	\mdfsetup{%
	frametitle={
		{#1}
		},
		linecolor=red,middlelinewidth=2pt,%
		frametitlerule=true,%
		apptotikzsetting={\tikzset{mdfframetitlebackground/.append style={%
		shade,left color=white, right color=blue!20}}},
		frametitlerulecolor=green!60,
		frametitlerulewidth=1pt,
		innertopmargin=\topskip,
	}
	\begin{mdframed}[]\relax%
		}{\end{mdframed}}
  
